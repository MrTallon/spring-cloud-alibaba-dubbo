# Spring Cloud Alibaba Dubbo

基于 Spring Cloud Alibaba Dubbo，  
实现对内 RPC、对外 REST 接口的脚手架

集成 MybatisPlus、Redis、RocketMQ 等常用中间件

实现 oAuth2 协议的 SpringSecurity 登录功能

添加 Docker 插件，实现各模块快速部署

为以后开发提供丰富扩展性

|  框架    |  完成进度    |   🏷️   |
| ---- | ---- | ---- |
|   Cloud   |  100%    |   ✅   |
|  Dubbo    |   100%   |   ✅   |
|   Nacos   |   100%   |    ✅  |
| MyBatisPlus | 100% | ✅ |
| oAuth2 | 50% | 
| WebFlux | 0% |
| Redis | 0% |
| RocketMQ | 0% |

 
---

|  模块    |  完成进度    |   🏷️   |
| ---- | ---- | ---- |
|   用户注册   |  100%    |   ✅   |
| 用户登录 | 50% |  |


---

## 开发日记：

2020.4.25  
初始化项目目录结构

2020.4.26  
计划将 provider 中的 api 和 service 服务进行合并，日后开发仅以服务内容进行分模块，不再细分到接口和实现类。  
再三思考，还是需要将 api 和 service 进行分割，这样才能实现rest接口不直接调用数据库的操作

2020.4.28  
在思考如何划分微服务模块时，provider 层本来想按功能划分，但是存在功能间调用混乱的问题，边界越来越模糊。  
最后考虑用数据库来划分，生产环境数据库是分库形式，依据不同用途进行拆分，开发模块依照同等要求拆分。  
这样每个模块配置各自的数据源，相应的也避免了多源问题。  
总结: provider 按照数据库分，business 按照功能分  
开发前本想把表名前缀（ums_）等替换掉，只截取后面的表名，
可是在过程中发现没有表名前缀来区分不是一件好事。

2020.4.29  
事不过三，三则重构；  
每个类只做一种事，每个方法只做一件事；  
开发完一个模块前不要做下一个模块，开发完一个模块后立即重构；  
最小知识原则，里氏替换原则……

这些开发法则真的是要认真遵守，否则即使是微服务也会很快落入单体应用的泥沼

深度实践自己之前的[文章](https://tallon.ink/archives/ed2e9abb.html#more)，  
测试，写代码，重构。几分钟一个循环。  
贯彻极限编程思想

测试先行，方便重构后代码校验

请求RESTful风格的接口，拿回json数据，解析后得到需要的内容，前端取到token，利用令牌获取后台数据，实现认证过程。轻松！

今晚重构：包路径重新命名，解决所有TODO，解决报错，重新整理依赖

2020.4.30
TiDB 了解一下，金融级高可用 ACID 数据库，安全、效率高，还能当数据仓库用

TODO
配置文件上Nacos




















